<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#fff">
    <link rel="icon" href="store/photo/beyan.png" />
    <link rel="stylesheet" href="style.css">
    <title>مَدْرَسَةْ بَيَان لِلنّاس</title>
    <style>
      #installAppBtn
      {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        background: #12a9a962;
        backdrop-filter: blur(4px);
        position: fixed;
        top: 50%;
        left: 50%;
        translate: -50% -50%;
        z-index: 20;
      }
      #installAppBtn div
      {
        display: flex;
        justify-content: center;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background-color: aliceblue;
        border: none;
        border-radius: 5px;
        padding: 25px;
        font-size: 18px;
        font-family: Arial, Helvetica, sans-serif;
      }
    </style>
</head>
<body id="body">
  <div id="installAppBtn" style="display: none;">
  <div> <p>Install The Web App</p> <button style="width: 90%; padding: 8px;background-color: #12a9a9;border: none;border-radius: 5px;color: aliceblue;">Ok</button></div>
  </div>
   
      
    <nav id="leftNav">
        <button onclick="nav()" style="cursor: pointer; background: transparent;color: rgb(255, 255, 255);border: none;width: 100%;text-align: right;font-size: 20px;">X</button>

        <div class="profile" id="profile" >
        </div>
        <hr>
        <ul>
            <a onclick="display('lesson'),navHide()">Home</a>
            <a onclick="lesson(sessionStorage.getItem('userContent')),navHide()">Lesson</a>
            <a onclick="display('community'),navHide()">Community</a>
            <a onclick="display('post'),navHide()">Post</a>
            <a onclick="display('rank'),navHide()">Leaderboard</a>
            <a href ="store/php/logout.php" onclick="alert('You logged out successfully'),sessionStorage.clear()">Signout</a>
        </ul>
        <p style="font-family: Arial, Helvetica, sans-serif; position: fixed;color: black; bottom: 10px;text-align: center;" id="text-dev">AbduDev<br>©2026</p>
    </nav>
<header>
    <!--the menu-->
    <button style="margin-left:10px;background:transparent;border: none;cursor: pointer;display: flex;align-items: center;" onclick="nav()">
        <svg height="35px" viewBox="0 -960 960 960" width="35px" fill="var(--border-text-color-white-mode)"><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg>
</button>
<!--the logo of the academy-->
<button style="background: transparent;border: none;display: flex;flex-direction: row;justify-content: center;align-items: flex-end;margin-right: 10px;">
    <img src="store/photo/beyan.png" style="width: 55px;border-radius: 5px;">
</button>
</header>        

<!--all things loaded by ajax there-->
    <main id="main">
    </main>

    <div class="bottom-nav" id="bottom-nav"> 
        <div class="navs" onclick="display('lesson',true)" >
            <svg xmlns="http://www.w3.org/2000/svg" id="lesson" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />
              </svg>
        </div>
         <div class="navs" onclick="display('community',true)" >
        <svg xmlns="http://www.w3.org/2000/svg" id="community" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
            <path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" />
          </svg>
    </div>
        <div class="navs" onclick="display('post',true)" >
            <svg xmlns="http://www.w3.org/2000/svg" id="post" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
              </svg>
        </div>
    <div class="navs" onclick="display('rank',true)" >
        <svg xmlns="http://www.w3.org/2000/svg" id="rank" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.242 5.992h12m-12 6.003H20.24m-12 5.999h12M4.117 7.495v-3.75H2.99m1.125 3.75H2.99m1.125 0H5.24m-1.92 2.577a1.125 1.125 0 1 1 1.591 1.59l-1.83 1.83h2.16M2.99 15.745h1.125a1.125 1.125 0 0 1 0 2.25H3.74m0-.002h.375a1.125 1.125 0 0 1 0 2.25H2.99" />
        </svg>
    </div>   
    </div>
<script src="store/php/ajax.js"></script>
<script src="store/php/script.min.js"></script>

<script>

if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/beyan/service-worker.js");
}


let deferredPrompt;
const installBtn = document.getElementById("installAppBtn");

window.addEventListener("beforeinstallprompt", (e) => {
  e.preventDefault();
  deferredPrompt = e;
  installBtn.style.display = "block";
});

installBtn?.addEventListener("click", async () => {
  installBtn.style.display = "none";
  if (!deferredPrompt) return;

  deferredPrompt.prompt();
  await deferredPrompt.userChoice;
  deferredPrompt = null;
});


document.addEventListener("contextmenu", (e) => {
  e.preventDefault();
});


document.addEventListener("click", function (e) {
  const target = e.target.closest("a");
  if (!target) return;

  const sameOrigin = location.origin === new URL(target.href).origin;

  if (!sameOrigin) {
    e.preventDefault();
    window.open(target.href, "_blank");
  }
});
</script>
</body>
</html>